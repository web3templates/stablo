"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function createResolver(selector) {
    if (selector === void 0) { selector = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return args;
    }; }
    var counter = 0;
    var map = new WeakMap();
    return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return selector.apply(void 0, args).map(function (arg) {
            if (arg && /^(function|object)$/.test(typeof arg)) {
                var key = map.get(arg);
                if (!key) {
                    key = "@" + ++counter;
                    map.set(arg, key);
                }
                return key;
            }
            return JSON.stringify(arg);
        }).join(",");
    };
}
exports.createResolver = createResolver;
