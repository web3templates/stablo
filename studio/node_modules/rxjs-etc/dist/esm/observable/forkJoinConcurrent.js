import { from } from "rxjs";
import { last, map, mergeMap, toArray } from "rxjs/operators";
export function forkJoinConcurrent(observables, concurrent) {
    return from(observables).pipe(mergeMap((observable, index) => observable.pipe(last(), map((value) => ({ index, value }))), concurrent), toArray(), map((pairs) => pairs.sort((l, r) => l.index - r.index).map((pair) => pair.value)));
}
//# sourceMappingURL=forkJoinConcurrent.js.map